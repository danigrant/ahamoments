{"version":3,"file":"static/webpack/static/development/pages/concept/[id].js.d864433635b8439ba892.hot-update.js","sources":["webpack:///./components/SwipableCardContainer.js"],"sourcesContent":["import React from 'react'\nimport SwipableCard from './SwipableCard'\nimport Card from './Card'\nimport CardSection from './CardSection'\nimport ExplanationCard from './ExplanationCard'\nimport { getConceptExplanations } from '../utils/firebase'\nimport { withRouter } from 'next/router'\nimport update from 'immutability-helper';\n\nclass SwipableCardContainer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      explanationCardDeck: this.props.conceptExplanationsArray,\n      displayCardIndex: 0\n    }\n  }\n  componentDidMount() {\n    window.addEventListener(\"keyup\", this.handleKeyPress);\n  }\n  componentDidUnount() {\n    window.removeEventListener(\"keyup\", this.handleKeyPress);\n  }\n  advanceCard = () => {\n    if (this.state.displayCardIndex > this.state.explanationCardDeck.length) {\n      this.setState({\n        displayCardIndex: 0\n      })\n    } else {\n      this.setState({\n        displayCardIndex: this.state.displayCardIndex + 1\n      })\n    }\n  }\n  decreaseCard = () => {\n    if (this.state.displayCardIndex < 1) {\n      this.setState({\n        displayCardIndex: 0\n      })\n    } else {\n      this.setState({\n        displayCardIndex: this.state.displayCardIndex - 1\n      })\n    }\n  }\n  handleReplay = () => {\n    this.setState({\n      displayCardIndex: 0\n    })\n  }\n  handleKeyPress = (e) => {\n    // right 39, left 37, up 38, down 40\n    if (e.keyCode == 39 || e.keyCode == 38) {\n      this.advanceCard()\n    } else if (e.keyCode == 37 || e.keyCode == 40) {\n      this.setState({\n        displayCardIndex: this.state.displayCardIndex - 1\n      })\n    }\n  }\n  render() {\n    let currentExplanation = this.state.explanationCardDeck[this.state.displayCardIndex]\n    if (this.state.displayCardIndex == this.state.explanationCardDeck.length ) {\n      // no more cards to display\n      return (\n        <Card>\n          <CardSection>\n            <div onClick={this.handleReplay} className=\"button\"><i className=\"material-icons\">replay_rounded</i>Replay</div>\n          </CardSection>\n        </Card>\n      )\n    } else {\n      return (\n        <div onKeyDown={this.handleKeyPress}>\n          <SwipableCard key={currentExplanation.explanationID} explanation={currentExplanation} advanceCard={this.advanceCard} loggedInUser={this.props.loggedInUser} />\n        </div>\n      )\n    }\n  }\n}\n\nexport default SwipableCardContainer\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAcA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AAxBA;AAyBA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AAnCA;AAoCA;AACA;AADA;AAGA;AACA;AAxCA;AAyCA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAhDA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AAAA;AACA;AACA;;;AACA;AACA;AACA;;;AAsCA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;;;;AArEA;AACA;AAuEA;;;;A","sourceRoot":""}